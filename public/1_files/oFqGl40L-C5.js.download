;/*FB_PKG_DELIM*/

__d("WAWebLockScreen.react",["fbt","WAPromiseDelays","WAWebABProps","WAWebButton.react","WAWebCmd","WAWebConnModel","WAWebDetailImage.react","WAWebEmojiText.react","WAWebEnvironment","WAWebErrorBoundary.react","WAWebFlex.react","WAWebFlexItem.react","WAWebLandingHeader.react","WAWebLockScreenResolver","WAWebMsgCollection","WAWebPasswordInput.react","WAWebProfileImage.react","WAWebScreenLockErrorMessages","WAWebSocketModel","WAWebText.react","WAWebUISpacing","WAWebUserPrefsMultiDevice","WAWebUserPrefsScreenLock","asyncToGeneratorRuntime","react","useWAWebListener","useWAWebPersistentCounterAsync"],(function(t,n,r,o,a,i,l,s){var e,u,c=u||(u=r("react")),d=(e||(e=o("react"))).useState,m={wrapper:{background:"x1lsgnfv",height:"x1dr59a3",minHeight:"xp22266",overflowX:"xw2csxc",overflowY:"x1odjw0f",paddingTop:"xyinxu5",paddingInlineEnd:"xp48ta0",paddingBottom:"x1g2khh7",paddingInlineStart:"xtssl2i",minWidth:"xp9ttsr",alignItems:"x6s0dn4",boxSizing:"x9f619","@media screen and (max-width: 1000px)_minHeight":"x1vku25w","-webkit-font-smoothing":"xvmahel",$$css:!0},headerContainer:{width:"xh8yej3",height:"xdd8jsf",$$css:!0},pushnameContainerSpace:{height:"x10c73hc",$$css:!0},passcodeContainer:{width:"xdzyupr",$$css:!0},incorrectPasscode:{height:"x1qx5ct2",$$css:!0}},p=82;function _(){var e=d(""),t=e[0],a=e[1],i=d(null),l=i[0],u=i[1],_=d(!1),f=_[0],g=_[1],h=d(!1),y=h[0],C=h[1],b=r("useWAWebPersistentCounterAsync")(o("WAWebUserPrefsScreenLock").getScreenUnlockTryCount,o("WAWebUserPrefsScreenLock").setScreenUnlockTryCount),v=b[0],S=v.count,R=v.loading,L=v.error,E=b[1],k=b[2],I=S!=null?S:0,T=I>=o("WAWebABProps").getABPropConfigValue("web_screen_lock_max_retries"),D=I+1===o("WAWebABProps").getABPropConfigValue("web_screen_lock_max_retries");o("useWAWebListener").useListener(o("WAWebCmd").Cmd,"correct_passcode_lock_screen",(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){yield o("WAWebMsgCollection").MsgCollection.decryptAndSetModels(e),k()});return function(t){return e.apply(this,arguments)}})()),o("useWAWebListener").useListener(o("WAWebCmd").Cmd,"incorrect_passcode_lock_screen",n("asyncToGeneratorRuntime").asyncToGenerator(function*(){E(),g(!0),C(!1)}));var x=function(t){a(t.currentTarget.value)},$=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(C(!0),yield o("WAPromiseDelays").delayMs(400),t===""){u(!0),C(!1);return}u(!1),o("WAWebLockScreenResolver").LockScreenResolvable.enterPasscode(t)});return function(){return e.apply(this,arguments)}})(),P=function(t){!T&&t.key==="Enter"&&$()};T&&o("WAWebSocketModel").Socket.logout();var N=o("WAWebScreenLockErrorMessages").getErrorMessage({emptyInputEntered:l,incorrectPasscode:f,onlyOneTryRemaining:D,triesExceeded:T}),M=r("WAWebEnvironment").isWindows?s._(/*BTDS*/"App lock is on. Enter your password to use WhatsApp Windows."):s._(/*BTDS*/"App lock is on. Enter your password to use WhatsApp Web.");return c.jsxs(o("WAWebFlex.react").FlexColumn,{align:"center",xstyle:m.wrapper,testid:void 0,children:[c.jsx(r("WAWebFlexItem.react"),{xstyle:m.headerContainer,align:"center",isFlexContainer:!0,children:c.jsx(r("WAWebLandingHeader.react"),{surface:"lock-screen",showAppDownloadButton:!0})}),c.jsx(o("WAWebFlex.react").FlexColumn,{align:"center",justify:"center",grow:r("WAWebEnvironment").isWindows?0:1,children:c.jsx("main",{className:"x1lxuw3u x1ow4hk9 x1wmf1g4 xefzj8c x42lpuj x1rsuxf0 xcgujcq x1igtfuo x13up0n2 x178xt8z x1lun4ml xso031l xpilrb4 x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x1pyc6se x1mlb2bo x16pkwpw xqe4bef xw6alqk x10a9n66",children:c.jsxs(o("WAWebFlex.react").FlexColumn,{align:"center",className:"landing-main",children:[c.jsx(r("WAWebFlexItem.react"),{xstyle:[o("WAWebUISpacing").uiMargin.top16,o("WAWebUISpacing").uiMargin.bottom18],children:c.jsx(r("WAWebProfileImage.react"),{thumb:o("WAWebUserPrefsMultiDevice").getCachedProfilePicEURL(),size:p,quality:o("WAWebDetailImage.react").DetailImageQuality.High})}),c.jsx(o("WAWebErrorBoundary.react").ErrorBoundary,{name:"lock-screen-emoji-text",children:c.jsx(o("WAWebText.react").WAWebTextLargeRefreshed,{xstyle:[m.pushnameContainerSpace,o("WAWebUISpacing").uiMargin.bottom32],children:c.jsx(o("WAWebEmojiText.react").EmojiText,{text:o("WAWebConnModel").Conn.pushname,ellipsify:!0,titlify:!0})})}),c.jsx(r("WAWebFlexItem.react"),{xstyle:o("WAWebUISpacing").uiMargin.bottom16,children:c.jsx(o("WAWebText.react").WAWebTextTitleRefreshed,{textAlign:"center",xstyle:o("WAWebUISpacing").uiMargin.bottom6,children:M})}),c.jsxs(r("WAWebFlexItem.react"),{xstyle:[m.passcodeContainer,o("WAWebUISpacing").uiMargin.bottom12],children:[c.jsx(r("WAWebPasswordInput.react"),{onChange:x,onKeyDown:P,required:!0,placeholder:s._(/*BTDS*/"Enter password").toString(),focusOnMount:!0,enableShowPassword:!0,testid:void 0}),N==null?c.jsx("div",{className:"x1gnnpzl"}):c.jsx(o("WAWebText.react").WAWebTextSmall,{color:"critical",xstyle:[m.incorrectPasscode,o("WAWebUISpacing").uiMargin.top4,o("WAWebUISpacing").uiMargin.bottom6],role:"alert",children:N})]}),c.jsx(r("WAWebFlexItem.react"),{xstyle:o("WAWebUISpacing").uiMargin.bottom48,children:c.jsx(o("WAWebButton.react").Button,{type:"primary",onClick:function(){return void $()},disabled:y||T||R||L!=null,spinner:y,testid:void 0,children:s._(/*BTDS*/"Unlock")})}),c.jsx(o("WAWebText.react").WAWebTextMuted,{xstyle:o("WAWebUISpacing").uiMargin.bottom6,children:s._(/*BTDS*/"Forgot password?")}),c.jsx(o("WAWebText.react").WAWebTextMuted,{xstyle:o("WAWebUISpacing").uiMargin.bottom6,children:s._(/*BTDS*/"Log out and link again from your phone.")}),c.jsx(r("WAWebFlexItem.react"),{xstyle:o("WAWebUISpacing").uiMargin.top12,children:c.jsx(o("WAWebButton.react").Button,{type:"plain-white",onClick:function(){return o("WAWebSocketModel").Socket.logout()},children:s._(/*BTDS*/"Log out")})})]})})})]})}_.displayName=_.name+" [from "+i.id+"]",l.default=_}),226);
__d("WAWebTPPreloadingUtils",["WALogger","WAWebMimeTypes","WAWebMsgCollection","WAWebMsgType","WAWebTPIframeUtils","WAWebTPPdfViewerGatingUtils","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=!1,u=50,c=100;function d(e,t){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n){var r,a;if(n===void 0&&(n={inChatLimit:u,appStartLimit:c}),!o("WAWebTPPdfViewerGatingUtils").isWebTPPdfViewerEnabled())return!1;var i=!1,l=document.getElementById("webtp-iframe")!=null;if(s&&l)return!0;var d=yield p(t,(r=n.inChatLimit)!=null?r:u,(a=n.appStartLimit)!=null?a:c);return i=d.some(function(e){return e.type===o("WAWebMsgType").MSG_TYPE.DOCUMENT&&e.mimetype!=null&&o("WAWebMimeTypes").isPdfDocument(e.mimetype)}),o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Preloading WebTP iframe for PDFs: ",""])),i),i?(o("WAWebTPIframeUtils").preloadWebTPIframeIfEnabled("application/pdf",t?"chatOpen":"appStart"),s=!0,!0):!1}),m.apply(this,arguments)}function p(e,t,n){return _.apply(this,arguments)}function _(){return _=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){if(e){var r=e.msgs.last();return o("WAWebMsgCollection").MsgCollection.getAllDocsMsgs(t,r==null?void 0:r.id,"before")}return o("WAWebMsgCollection").MsgCollection.getAllDocsMsgs(n)}),_.apply(this,arguments)}l.maybePreloadWebTPIframeForPDFs=d}),98);